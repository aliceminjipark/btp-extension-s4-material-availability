<mvc:View
    controllerName="materialdashboard.controller.Object"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:layout="sap.ui.layout"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:semantic="sap.f.semantic">

    <ObjectPageLayout id="page"
		enableLazyLoading="true"
		useIconTabBar="true"
		showTitleInHeaderContent="true"
		upperCaseAnchorBar="false">

        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
				<expandedHeading>
			        <m:Title
                        text="{i18n>objectTitle} {Material}"
                        level="H2"/>
                </expandedHeading>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>
        
        <headerContent>
            <layout:VerticalLayout>
                <m:Title id="MaterialDescriptionTitle" text="" level="H3" />       
                <m:ObjectStatus  
                    title="{i18n>ProductTypeLabel}" 
                    text="{ProductType}" />
                <m:ObjectStatus  
                    title="{i18n>ProductGroupLabel}" 
                    text="{ProductGroup}" />
                <m:ObjectStatus  
                title="{i18n>ItemCategoryGroupLabel}" 
                text="{ItemCategoryGroup}" />
            </layout:VerticalLayout>
        </headerContent>

        <sections>

            <ObjectPageSection id="PlantsAvailabilitySection" titleUppercase="false" title="{i18n>objectPagePlantsAvailabilitySection}">
				<subSections>
					<ObjectPageSubSection id="PlantsAvailabilitySubSection" titleUppercase="false">
						<blocks>
                            <m:Table
                                id="PlantsAvailabilityTable"
                                width="auto"
                                items="{
                                    path: 'to_Plant'
                                }"
                                noDataText="{i18n>objectTableNoDataText}"
                                growing="false"
                                growingScrollToLoad="false">

                                <m:columns>
                                    <m:Column id="plantColumnATPTable">
                                        <m:Text text="{i18n>tablePlantColumnTitle}" id="plantColumnTitleATPTable"/>
                                    </m:Column>
                                    <m:Column id="MRPType">
                                        <m:Text text="{i18n>tableMRPTypeColumnTitle}" id="MRPTypeColumnTitle"/>
                                    </m:Column>
                                    <m:Column id="MRPAreaColumn">
                                        <m:Text text="{i18n>tableMRPAreaColumnTitle}" id="MRPAreaColumnTitle"/>
                                    </m:Column>
                                    <m:Column id="AvailabilityColumn">
                                        <m:Text text="{i18n>tableAvailableQuantityColumnTitle}" id="AvailabilityColumnTitle"/>
                                    </m:Column>
                                </m:columns>

                                <m:items>
                                    <m:ColumnListItem>
                                        <m:cells>
                                            <m:ObjectIdentifier
                                                title="{Plant}"/>
                                            <m:Text text = "{MRPType}"/>  
                                            <m:Text text = "{to_PlantMRPArea/0/MRPArea}"/>
                                            <m:ObjectNumber
                                                number="{
                                                    path: 'AvailableQuantity',
                                                    formatter: '.formatter.numberUnit'
                                                }"
                                                unit="{AvailableQuantityBaseUnit}" /> 
                                        </m:cells>
                                    </m:ColumnListItem>
                                </m:items>
                            </m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>                    
        </sections>
    </ObjectPageLayout>

</mvc:View>